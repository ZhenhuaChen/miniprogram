<view class="container">
  <!-- 顶部状态 -->
  <view class="status-section">
    <view class="status-card">
      <view class="status-item">
        <text class="status-number">{{totalPoints}}</text>
        <text class="status-label">我的积分</text>
      </view>
      <view class="status-item">
        <text class="status-number">{{shareCount}}</text>
        <text class="status-label">分享次数</text>
      </view>
    </view>
  </view>

  <!-- 分享状态卡片 -->
  <view class="share-status-card">
    <view class="card-header">
      <text class="card-title">今日分享状态</text>
    </view>
    <view class="share-status">
      <text class="status-icon" wx:if="{{todayShared}}">✅</text>
      <text class="status-icon" wx:else>⏰</text>
      <text class="status-text" wx:if="{{todayShared}}">今日已分享，获得积分奖励</text>
      <text class="status-text" wx:else>今日还未分享，快来获取积分吧</text>
    </view>
    <view class="share-tip">
      每日首次分享可获得20积分奖励
    </view>
  </view>

  <!-- 分享按钮 -->
  <view class="share-section">
    <button class="share-btn primary" open-type="share">
      分享至微信群
    </button>
  </view>

  <!-- 如何获得积分 -->
  <view class="earn-section">
    <view class="section-title">如何获得积分？</view>
    <view class="earn-list">
      <view class="earn-item">
        <view class="earn-icon">🎯</view>
        <view class="earn-content">
          <text class="earn-title">每日学习</text>
          <text class="earn-desc">+5积分</text>
        </view>
      </view>
      <view class="earn-item">
        <view class="earn-icon">👥</view>
        <view class="earn-content">
          <text class="earn-title">邀请好友</text>
          <text class="earn-desc">+20积分</text>
        </view>
      </view>
      <view class="earn-item">
        <view class="earn-icon">💎</view>
        <view class="earn-content">
          <text class="earn-title">积分用途</text>
          <text class="earn-desc">资料下载</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 积分记录 -->
  <view class="history-section" wx:if="{{pointsHistory.length > 0}}">
    <view class="section-title">积分记录（最近10条）</view>
    <view class="history-list">
      <view
        class="history-item"
        wx:for="{{pointsHistory}}"
        wx:key="index"
      >
        <view class="history-content">
          <text class="history-desc">{{item.description}}</text>
          <text class="history-date">{{item.date}}</text>
        </view>
        <view class="history-points {{item.points > 0 ? 'positive' : 'negative'}}">
          {{item.points > 0 ? '+' : ''}}{{item.points}}
        </view>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-mask">
    <view class="loading-content">
      <text>加载中...</text>
    </view>
  </view>
</view>